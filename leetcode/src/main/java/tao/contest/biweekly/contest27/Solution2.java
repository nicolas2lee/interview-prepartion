package tao.contest.biweekly.contest27;

/**
 *
 *
 *
 * "011101100101110101101000011111101011111101110100111100010000010110010010011100110001110010101101011010010001101111000111110000001010100101111001111010110001111011001110100010001111000111010001111100101011100001001011101100010101010110001011110101001101001001111101000100011101110100100100101101110000000110001011100100111111001000100100010011001000101101100010010010001111010111010011110111110001010100000110000111010110001100100110111000111010111000010100100100101011001111010110010101110101000011011101000110001001100111100011000100110010101100001111000100101001111001100001010100100100110100101100111000110010110101010110010110001111010110101111011011100111001010101001011000101101110100001110011110001011000011100011111001110011111101110001110010000111010011110001011010100101110010110110100011111011110010100011111000000001011100110000010101110110111"
 * 7
 *
 *
 *
 * 0 000 000
 * 0 000 001
 * 0 000 010
 * 0 000
 *
 *
 *
 * 4
 * 0000
 * 0001 2*1-1
 * 0010
 * 0011 2*2-1
 * 0100
 * 0101
 * 0110
 * 0111 2*3-1
 * 1000
 * 1001
 * 1010
 * 1011
 * 1100
 * 1101
 * 1110
 * 1111 2*4-1
 */


class Solution2 {
    //0 00 000 0000 1 11 111 1111
    //2 -> 11 pow(2, k)-1
    public boolean hasAllCodes(String s, int k) {
        Integer maxValue = (int) (Math.pow(2, k) - 1);
        for (int i=0; i<=maxValue; i++){
            String binaryString = Integer.toBinaryString(i);
            final StringBuilder sb = new StringBuilder();
            if (binaryString.length()<k){
                for (int j=0; j<k-binaryString.length();j++){
                    sb.append('0');
                }
            }
            sb.append(binaryString);
            if (!s.contains(sb.toString())){
                return false;
            }
        }
        return true;
    }

    public static void main(String[] args) {
        Solution2 s = new Solution2();
        final boolean r = s.hasAllCodes("011101100101110101101000011111101011111101110100111100010000010110010010011100110001110010101101011010010001101111000111110000001010100101111001111010110001111011001110100010001111000111010001111100101011100001001011101100010101010110001011110101001101001001111101000100011101110100100100101101110000000110001011100100111111001000100100010011001000101101100010010010001111010111010011110111110001010100000110000111010110001100100110111000111010111000010100100100101011001111010110010101110101000011011101000110001001100111100011000100110010101100001111000100101001111001100001010100100100110100101100111000110010110101010110010110001111010110101111011011100111001010101001011000101101110100001110011110001011000011100011111001110011111101110001110010000111010011110001011010100101110010110110100011111011110010100011111000000001011100110000010101110110111"
                , 7);
        System.out.println(r);
    }
}

